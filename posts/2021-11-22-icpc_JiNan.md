# icpc JiNan

## Optimal Strategy

>有 n 件物品，第 i 件的价值为 a[i]。A 和 B 轮流取物品，A 先手。每个玩家都要最大化自己取到的物品的价值和，求有多少种可能的游戏过程。
>
>1 <= n <= 1 000 000
>
>1 <= a[i] <= n

>考虑最大值如果是偶数个，那么会每次被两个两个的取；如果是奇数个，那么会被先手立刻取走一个，变成偶数的情况。
>
>故容易得到答案为（c[i] 是价值为 i 的物品个数）

$$ \prod_{i=1}^{n}c_i!\binom{\sum_{j=1}^{i-1}c_j+\lfloor c_i/2\rfloor}{\lfloor c_i/2\rfloor} $$

价值最大的物品，一定两个两个地取。现在考虑出现了有一个更大价值的若干物品，那么这些价值更大的物品一定能成对地插入原来取物品产生的序列中的任意位置。

于是上式就是这一过程的模拟。

